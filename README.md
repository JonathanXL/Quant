# 股票策略回测框架

## 简介

这是一个基于 **Python** 的股票策略回测框架，旨在帮助用户测试和评估其交易策略的表现。框架包括了数据加载、策略生成、经纪人模拟、投资组合管理和绩效评估模块，并支持沪深300指数作为基准，计算年化收益率、最大回撤、夏普比率等回测指标。

该回测框架的目标是提供一个简洁、易用的工具，帮助量化交易者快速实现和优化策略。

## 功能特点

- **策略开发与回测**：可以方便地添加和测试自己的策略，支持基于移动平均线（MA）策略的示例。
- **沪深300基准**：支持沪深300指数作为基准，计算策略的超额收益。
- **绩效评估**：计算年化收益率、最大回撤、夏普比率等常见回测指标。
- **灵活的模拟交易环境**：模拟实际的买卖过程，支持滑点和交易手续费的设置。

## 目录

- [安装](#安装)
- [使用方法](#使用方法)
- [模块说明](#模块说明)
- [贡献](#贡献)
- [许可证](#许可证)

## 安装

### 克隆仓库

```bash
git clone https://github.com/your-username/quant-backtest.git
cd quant-backtest
```
- **安装依赖**
-确保你已经安装了 Python 3.x，然后可以使用 pip 安装依赖：
```bash
pip install -r requirements.txt
```

## 使用方法

-**1.准备数据**：将你自己的行情数据和沪深300指数数据准备好。文件格式应该是 CSV，包含 date 和 close 列。

-**2.配置和运行回测**： 修改 main.py 文件，指定你的行情数据文件路径和沪深300指数数据路径。然后运行代码：

-**3.查看结果**：回测完成后，系统会输出回测的绩效指标（如年化收益率、最大回撤和夏普比率），并展示策略收益、基准收益和超额收益的图表。


## 模块说明

-**1.数据加载模块**：负责加载并处理市场数据和沪深300指数数据。支持通过 CSV 文件导入数据，并确保数据按日期升序排列。

-**2.策略模块**： 策略模块是回测框架的核心部分。在 Strategy 类的基础上，您可以自定义您的交易策略。示例中提供了一个基于 双均线策略（短期均线和长期均线）的实现。

-**3.经纪人模拟模块**：模拟实际交易过程，包括买入、卖出，并计算滑点和交易手续费。这个模块确保回测的交易过程尽可能地贴近实际市场。

-**4.投资组合模块**：记录持仓、现金、交易历史和总组合价值等信息，并在每次交易后更新组合状态。它还可以返回每个交易日的总价值序列，以供绩效评估使用。

-**5. 绩效评估模块**：计算并输出常见的回测指标：年化收益率、最大回撤、夏普比率等。

-**6. 回测引擎模块**：回测引擎是框架的主控制模块，负责数据加载、策略信号生成、交易模拟和绩效评估。运行回测时，它将整合所有模块并执行策略。

## 贡献
### 欢迎为该项目做出贡献！如果你有新的功能或修复，请通过以下步骤：

-**Fork 这个仓库**

-**创建一个新的分支**：git checkout -b feature-xyz。

-**提交你的更改**：git commit -am 'Add new feature'

-**推送到分支**：git push origin feature-xyz

-**提交一个 Pull Request**

## 许可证
### 该项目使用 MIT 许可证。详情请查看 LICENSE。
